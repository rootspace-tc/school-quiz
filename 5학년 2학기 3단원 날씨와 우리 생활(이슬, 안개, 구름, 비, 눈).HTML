<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬¼ì˜ ì‹ ê¸°í•œ ì—¬í–‰</title>
    <!-- Tailwind CSS ë¡œë“œ --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts (Jua) ë¡œë“œ --><link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
        /* Jua ê¸€ê¼´ ì „ì²´ ì ìš© */
        body {
            font-family: 'Jua', sans-serif;
            overscroll-behavior: none; /* ìŠ¤í¬ë¡¤ ë°”ìš´ìŠ¤ íš¨ê³¼ ì œê±° */
        }

        /* --- ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ --- */
        /* ë¹„ ì• ë‹ˆë©”ì´ì…˜ */
        .rain-drop {
            position: absolute;
            bottom: 100%;
            width: 2px;
            height: 20px;
            background-color: #60a5fa; /* blue-400 */
            border-radius: 50%;
            animation: fall 1s linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(150px); /* ë–¨ì–´ì§€ëŠ” ê±°ë¦¬ */
                opacity: 0;
            }
        }

        /* ëˆˆ ì• ë‹ˆë©”ì´ì…˜ */
        .snow-flake {
            position: absolute;
            top: -20px;
            width: 10px;
            height: 10px;
            background-color: white;
            border-radius: 50%;
            animation: snowfall 5s linear infinite;
            opacity: 0.8;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0.8;
            }
            100% {
                transform: translateY(150px) translateX(30px); /* ë–¨ì–´ì§€ë©´ì„œ ì˜†ìœ¼ë¡œ ì´ë™ */
                opacity: 0;
            }
        }
        
        /* --- ìƒˆë¡œ ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ --- */
        
        /* í´ë¦­ ê°€ëŠ¥í•œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .clickable-section {
            cursor: pointer;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }
        .clickable-section:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1);
        }

        /* ì‹œë®¬ë ˆì´ì…˜ìš© ìˆ˜ì¦ê¸° ì…ì */
        .vapor-dot {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #cbd5e1; /* slate-300 */
            border-radius: 50%;
            opacity: 0.6;
            animation: drift 6s ease-in-out infinite alternate;
            transition: all 0.5s ease;
        }

        /* ë¬¼ë°©ìš¸ ì…ì (ìˆ˜ì •: í¬ê¸° í‚¤ì›€) */
        .water-dot {
            background: #3b82f6; /* blue-500 */
            opacity: 1;
            animation: none; /* ë“œë¦¬í”„íŠ¸ ì¤‘ì§€ */
            width: 12px; /* ìˆ˜ì • */
            height: 12px; /* ìˆ˜ì • */
        }
        
        /* ì–¼ìŒ ì…ì */
        .ice-dot {
            background: #ffffff;
            opacity: 1;
            border: 1px solid #93c5fd;
            animation: none;
            box-shadow: 0 0 5px white;
        }

        /* ìˆ˜ì¦ê¸° ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes drift {
            0% { transform: translate(0, 0); }
            25% { transform: translate(10px, -15px); }
            50% { transform: translate(-10px, 10px); }
            75% { transform: translate(5px, 20px); }
            100% { transform: translate(0, 0); }
        }

        /* ë¹„/ëˆˆ ë–¨ì–´ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fall-sim {
            from { top: 30%; opacity: 1; }
            to { top: 90%; opacity: 0; }
        }
        .rain-drop-sim {
            position: absolute;
            width: 4px;
            height: 10px;
            background: #3b82f6;
            border-radius: 50%;
            animation: fall-sim 1s linear;
        }
        .snow-flake-sim {
            position: absolute;
            width: 12px;
            height: 12px;
            color: white;
            animation: fall-sim 2s linear;
        }
        .snow-flake-sim::before {
            content: 'â„'; /* ëˆˆì†¡ì´ ë¬¸ì */
        }
    </style>
</head>
<body class="bg-sky-100 text-gray-800 h-screen w-screen overflow-hidden">

    <!-- ê¸€ê¼´ í¬ê¸° ì¡°ì ˆ ë²„íŠ¼ (ê¸°ì¡´) --><div class="fixed top-4 right-4 z-50 flex gap-2">
        <button id="zoom-out" class="bg-white/70 backdrop-blur-sm shadow-md rounded-full w-10 h-10 flex items-center justify-center text-xl font-bold hover:bg-white transition-all">-</button>
        <button id="zoom-reset" class="bg-white/70 backdrop-blur-sm shadow-md rounded-full w-10 h-10 flex items-center justify-center text-base font-bold hover:bg-white transition-all">ê°€</button>
        <button id="zoom-in" class="bg-white/70 backdrop-blur-sm shadow-md rounded-full w-10 h-10 flex items-center justify-center text-xl font-bold hover:bg-white transition-all">+</button>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ --><div id="main-content-wrapper" class="h-full w-full overflow-auto">
        <div id="content-area" class="container mx-auto p-6 md:p-12 transition-all duration-300" style="font-size: 1.125rem; line-height: 1.75rem;"> <!-- ê¸°ë³¸ 1.125rem (text-lg) --><h1 class="text-4xl md:text-6xl font-bold text-center text-blue-600 mb-12">
                ğŸ’§ ë¬¼ì˜ ì‹ ê¸°í•œ ì—¬í–‰ â„ï¸
            </h1>

            <div class="space-y-12">

                <!-- 1. ì´ìŠ¬ (í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •) --><section id="section-dew" class="bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 md:p-8 flex flex-col md:flex-row items-center gap-6 clickable-section">
                    <!-- ... (ê¸°ì¡´ ì‹œê° ìë£Œ) ... --><div class="w-32 h-32 md:w-40 md:h-40 bg-green-500 rounded-full flex-shrink-0 relative" style="border-radius: 50% 50% 10% 10%;">
                        <div class="absolute w-2 h-16 bg-green-600 rounded-full top-4 left-1/2 -translate-x-1/2 transform -rotate-12"></div>
                        <div class="absolute w-2 h-20 bg-green-600 rounded-full top-2 left-1/2 -translate-x-2 transform rotate-6"></div>
                        <div class="absolute w-2 h-16 bg-green-600 rounded-full top-4 left-1/2 -translate-x-0 transform rotate-20"></div>
                        <div class="absolute w-3 h-3 bg-sky-300/80 rounded-full top-10 left-16 border border-white/50"></div>
                        <div class="absolute w-2 h-2 bg-sky-300/80 rounded-full top-16 left-12 border border-white/50"></div>
                        <div class="absolute w-3 h-3 bg-sky-300/80 rounded-full top-12 left-20 border border-white/50"></div>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-green-700 mb-3">ğŸŒ± ì´ìŠ¬</h2>
                        <p>
                            ì•„ì¹¨ì— í’€ìì— ì†¡ê³¨ì†¡ê³¨ ë§ºíŒ ë¬¼ë°©ìš¸ ë³¸ ì  ìˆë‹ˆ? ì´ê²Œ ë°”ë¡œ ì´ìŠ¬ì´ì•¼! 
                            ë°¤ì— ë‚ ì”¨ê°€ ì¶”ì›Œì§€ë©´, ê³µê¸° ì†ì— ìˆ¨ì–´ìˆë˜ 'ìˆ˜ì¦ê¸°'(ê¸°ì²´ ìƒíƒœì˜ ë¬¼)ê°€ í’€ìì´ë‚˜ ë‚˜ë­‡ê°€ì§€ì²˜ëŸ¼ ì°¨ê°€ìš´ ê³³ì— ë‹¿ì•„ì„œ ë¬¼ë°©ìš¸ë¡œ ë³€ì‹ í•˜ëŠ” ê±°ì•¼.
                        </p>
                    </div>
                </section>

                <!-- 2. ì•ˆê°œ (í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •) --><section id="section-fog" class="bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 md:p-8 flex flex-col md:flex-row items-center gap-6 clickable-section">
                    <!-- ... (ê¸°ì¡´ ì‹œê° ìë£Œ) ... --><div class="w-32 h-32 md:w-40 md:h-40 bg-gray-300 rounded-2xl flex-shrink-0 relative overflow-hidden">
                        <div class="absolute w-40 h-16 bg-white/50 rounded-full -bottom-4 -left-4"></div>
                        <div class="absolute w-32 h-12 bg-white/60 rounded-full bottom-0 right-0"></div>
                        <div class="absolute w-48 h-16 bg-white/40 rounded-full top-4 -right-8"></div>
                        <div class="absolute w-32 h-12 bg-white/50 rounded-full top-0 left-0"></div>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-600 mb-3">ğŸŒ«ï¸ ì•ˆê°œ</h2>
                        <p>
                            ì•ˆê°œëŠ” ë•… ì•„ì£¼ ê°€ê¹Œì´ì— ìƒê¸´ 'ë‚®ì€ êµ¬ë¦„'ì´ë¼ê³  ìƒê°í•˜ë©´ ì‰¬ì›Œ. 
                            ê³µê¸° ì¤‘ì˜ ìˆ˜ì¦ê¸°ê°€ ì°¨ê°€ìš´ ê³µê¸°ë¥¼ ë§Œë‚˜ ì•„ì£¼ì•„ì£¼ ì‘ì€ ë¬¼ë°©ìš¸ë¡œ ë³€í•´ì„œ, ìš°ë¦¬ ëˆˆì•ì— ë¿Œì˜‡ê²Œ ë– ë‹¤ë‹ˆëŠ” ê±°ì•¼. ì•ˆê°œê°€ ë‚€ ë‚ ì€ ë©€ë¦¬ ìˆëŠ” ê²Œ ì˜ ì•ˆ ë³´ì´ì§€!
                        </p>
                    </div>
                </section>

                <!-- 3. êµ¬ë¦„ (í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •) --><section id="section-cloud" class="bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 md:p-8 flex flex-col md:flex-row items-center gap-6 clickable-section">
                    <!-- ... (ê¸°ì¡´ ì‹œê° ìë£Œ) ... --><div class="w-32 h-32 md:w-40 md:h-40 rounded-2xl flex-shrink-0 relative">
                        <div class="absolute w-24 h-24 bg-white shadow-md rounded-full bottom-0 left-0"></div>
                        <div class="absolute w-28 h-28 bg-white shadow-md rounded-full bottom-0 right-0"></div>
                        <div class="absolute w-20 h-20 bg-white shadow-md rounded-full top-0 left-8"></div>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-sky-600 mb-3">â˜ï¸ êµ¬ë¦„</h2>
                        <p>
                            í•˜ëŠ˜ì— ë‘¥ì‹¤ë‘¥ì‹¤ ë– ë‹¤ë‹ˆëŠ” êµ¬ë¦„ì€ ì–´ë–»ê²Œ ìƒê¸¸ê¹Œ? ë•… ìœ„ì˜ ë¬¼ì´ í–‡ë¹›ì„ ë°›ì•„ ë”°ëœ»í•´ì§€ë©´ ìˆ˜ì¦ê¸°ê°€ ë˜ì–´ í•˜ëŠ˜ë¡œ ì˜¬ë¼ê°€. 
                            ë†’ì´ ì˜¬ë¼ê°€ë©´ ê³µê¸°ê°€ ì°¨ê°€ì›Œì ¸ì„œ ì´ ìˆ˜ì¦ê¸°ë“¤ì´ ë‹¤ì‹œ ì‘ì€ ë¬¼ë°©ìš¸ì´ë‚˜ ì–¼ìŒ ì•Œê°±ì´ë¡œ ë˜˜ë˜˜ ë­‰ì¹˜ê²Œ ë¼. ì´ê²Œ ëª¨ì—¬ì„œ ìš°ë¦¬ ëˆˆì— ë³´ì´ëŠ” êµ¬ë¦„ì´ ë˜ëŠ” ê±°ì•¼!
                        </p>
                    </div>
                </section>

                <!-- 4. ë¹„ (í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •) --><section id="section-rain" class="bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 md:p-8 flex flex-col md:flex-row items-center gap-6 clickable-section">
                    <!-- ... (ê¸°ì¡´ ì‹œê° ìë£Œ) ... --><div class="w-32 h-32 md:w-40 md:h-40 rounded-2xl flex-shrink-0 relative bg-gray-400 overflow-hidden">
                        <div class="absolute w-24 h-12 bg-gray-300 shadow-md rounded-full -top-2 left-0"></div>
                        <div class="absolute w-28 h-14 bg-gray-300 shadow-md rounded-full -top-4 right-0"></div>
                        <div class="rain-drop" style="left: 20%; animation-delay: 0s;"></div>
                        <div class="rain-drop" style="left: 40%; animation-delay: 0.3s;"></div>
                        <div class="rain-drop" style="left: 60%; animation-delay: 0.6s;"></div>
                        <div class="rain-drop" style="left: 80%; animation-delay: 0.1s;"></div>
                        <div class="rain-drop" style="left: 30%; animation-delay: 0.8s;"></div>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-blue-600 mb-3">ğŸŒ§ï¸ ë¹„</h2>
                        <p>
                            êµ¬ë¦„ ì†ì— ëª¨ì¸ ì‘ì€ ë¬¼ë°©ìš¸ë“¤ì´ "ìš°ë¦¬ í•©ì²´í•˜ì!" í•˜ë©´ì„œ ì„œë¡œ ë¶€ë”ªíˆê³  í•©ì³ì ¸. 
                            ì ì  í¬ê³  ë¬´ê±°ì›Œì§€ë©´, ë” ì´ìƒ í•˜ëŠ˜ì— ë–  ìˆì§€ ëª»í•˜ê³  ë•…ìœ¼ë¡œ 'í›„ë‘ë‘‘' ë–¨ì–´ì§€ê²Œ ë¼. ì´ê²Œ ë°”ë¡œ ë¹„ì•¼!
                        </p>
                    </div>
                </section>

                <!-- 5. ëˆˆ (í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •) --><section id="section-snow" class="bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 md:p-8 flex flex-col md:flex-row items-center gap-6 clickable-section">
                    <!-- ... (ê¸°ì¡´ ì‹œê° ìë£Œ) ... --><div class="w-32 h-32 md:w-40 md:h-40 rounded-2xl flex-shrink-0 relative bg-blue-900 overflow-hidden">
                        <div class="absolute w-24 h-12 bg-gray-200 shadow-md rounded-full -top-2 left-0"></div>
                        <div class="absolute w-28 h-14 bg-gray-200 shadow-md rounded-full -top-4 right-0"></div>
                        <div class="snow-flake" style="left: 10%; animation-delay: 0s;"></div>
                        <div class="snow-flake" style="left: 30%; animation-delay: 1s;"></div>
                        <div class="snow-flake" style="left: 50%; animation-delay: 3s;"></div>
                        <div class="snow-flake" style="left: 70%; animation-delay: 0.5s;"></div>
                        <div class="snow-flake" style="left: 80%; animation-delay: 2s;"></div>
                        <div class="snow-flake" style="left: 20%; animation-delay: 4s;"></div>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-indigo-700 mb-3">ğŸŒ¨ï¸ ëˆˆ</h2>
                        <p>
                            êµ¬ë¦„ì´ ì•„ì£¼ì•„ì£¼ ì¶”ìš´ ê³³(ì˜í•˜ 0ë„ë³´ë‹¤ ë‚®ì€ ê³³)ì— ìˆìœ¼ë©´, ìˆ˜ì¦ê¸°ê°€ ë¬¼ë°©ìš¸ì„ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ ì–¼ìŒ ì•Œê°±ì´ë¡œ ë³€í•´. 
                            ì´ ì–¼ìŒ ì•Œê°±ì´ë“¤ì´ ì„œë¡œ ë¶™ì–´ì„œ ì˜ˆìœ ëˆˆì†¡ì´ê°€ ë˜ê³ , ë¬´ê±°ì›Œì§€ë©´ ë•…ìœ¼ë¡œ 'í‘í‘' ë‚´ë¦¬ëŠ” ê±°ì•¼. ì´ê²Œ ë°”ë¡œ ëˆˆì´ì•¼!
                        </p>
                    </div>
                </section>

            </div>
        </div>
    </div>

    <!-- ===== ì‹¤í—˜ì‹¤ í™”ë©´ (ìƒˆë¡œ ì¶”ê°€) ===== --><div id="lab-container" class="hidden fixed inset-0 bg-sky-200 w-full h-full p-6 md:p-12 z-20 overflow-auto">
        
        <!-- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ --><button id="back-to-main" class="absolute top-6 left-6 bg-white/70 backdrop-blur-sm shadow-lg rounded-full px-5 py-2 text-lg font-bold hover:bg-white transition-all">
            &larr; ëŒì•„ê°€ê¸°
        </button>
        
        <!-- ì‹¤í—˜ì‹¤ ê¸€ì í¬ê¸° ì¡°ì ˆì„ ìœ„í•œ ë˜í¼ ì¶”ê°€ --><div id="lab-content-area" class="transition-all duration-300" style="font-size: 1.125rem; line-height: 1.75rem;">
            <!-- ì‹¤í—˜ì‹¤ ì œëª© --><h2 id="lab-title" class="text-4xl md:text-5xl font-bold text-center text-blue-700 mb-6 mt-16 md:mt-0">
                ì‹¤í—˜ì‹¤
            </h2>

            <!-- ì‹œë®¬ë ˆì´ì…˜ ì˜ì—­ --><div class="w-full max-w-3xl mx-auto flex flex-col md:flex-row gap-6 items-center">
                
                <!-- ì‹œë®¬ë ˆì´ì…˜ í™”ë©´ --><div id="simulation-area" class="w-full md:w-2/3 h-80 bg-white/50 backdrop-blur-md rounded-2xl shadow-lg relative overflow-hidden border-4 border-white/50">
                    <!-- ì‹œë®¬ë ˆì´ì…˜ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ --></div>

                <!-- ì¡°ì‘ íŒ¨ë„ --><div id="control-panel" class="w-full md:w-1/3 bg-white/70 backdrop-blur-md rounded-2xl shadow-lg p-6">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">ì¡°ì‘ íŒ¨ë„</h3>
                    <div id="controls-content">
                        <!-- ì¡°ì‘ ë„êµ¬ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ --></div>
                </div>
            </div>

            <!-- ì„¤ëª… ì˜ì—­ --><div id="lab-explanation" class="w-full max-w-3xl mx-auto bg-white/80 backdrop-blur-md rounded-2xl shadow-lg p-6 md:p-8 mt-6">
                <!-- ì„¤ëª… ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ --></div>
        </div>
    </div>


    <script>
        // --- ê¸°ì¡´ í°íŠ¸ í¬ê¸° ì¡°ì ˆ ìŠ¤í¬ë¦½íŠ¸ ---
        const contentArea = document.getElementById('content-area');
        const labContentArea = document.getElementById('lab-content-area'); // <-- ì¶”ê°€
        const zoomInButton = document.getElementById('zoom-in');
        const zoomOutButton = document.getElementById('zoom-out');
        const zoomResetButton = document.getElementById('zoom-reset');

        let currentFontSize = 1.125; // ê¸°ë³¸ rem ê°’ (text-lg)
        const baseFontSize = 1.125;
        const step = 0.125; // í°íŠ¸ í¬ê¸° ë³€ê²½ ë‹¨ê³„

        function updateFontSize() {
            contentArea.style.fontSize = `${currentFontSize}rem`;
            contentArea.style.lineHeight = `${currentFontSize * 1.6}rem`; 
            
            // --- ì¶”ê°€: ì‹¤í—˜ì‹¤ ê¸€ì í¬ê¸° ì¡°ì ˆ ---
            labContentArea.style.fontSize = `${currentFontSize}rem`;
            labContentArea.style.lineHeight = `${currentFontSize * 1.6}rem`;
        }

        zoomInButton.addEventListener('click', () => {
            currentFontSize += step;
            updateFontSize();
        });

        zoomOutButton.addEventListener('click', () => {
            if (currentFontSize > step * 2) {
                currentFontSize -= step;
                updateFontSize();
            }
        });

        zoomResetButton.addEventListener('click', () => {
            currentFontSize = baseFontSize;
            updateFontSize();
        });

        // --- ìƒˆë¡œ ì¶”ê°€ëœ ì‹¤í—˜ì‹¤ ìŠ¤í¬ë¦½íŠ¸ ---

        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const mainWrapper = document.getElementById('main-content-wrapper');
        const labContainer = document.getElementById('lab-container');
        const backButton = document.getElementById('back-to-main');
        
        const labTitle = document.getElementById('lab-title');
        const simArea = document.getElementById('simulation-area');
        const controlsContent = document.getElementById('controls-content');
        const labExplanation = document.getElementById('lab-explanation');

        // ì„¹ì…˜ í´ë¦­ ì´ë²¤íŠ¸
        document.getElementById('section-dew').addEventListener('click', () => showLab('dew'));
        document.getElementById('section-fog').addEventListener('click', () => showLab('fog'));
        document.getElementById('section-cloud').addEventListener('click', () => showLab('cloud'));
        document.getElementById('section-rain').addEventListener('click', () => showLab('rain'));
        document.getElementById('section-snow').addEventListener('click', () => showLab('snow'));

        // ë’¤ë¡œê°€ê¸° ë²„íŠ¼
        backButton.addEventListener('click', () => {
            mainWrapper.classList.remove('hidden');
            labContainer.classList.add('hidden');
            // ì‹¤í—˜ì‹¤ ë‚´ìš© ì´ˆê¸°í™”
            simArea.innerHTML = '';
            controlsContent.innerHTML = '';
            labExplanation.innerHTML = '';
        });

        // ìˆ˜ì¦ê¸° ì…ì ìƒì„± í•¨ìˆ˜
        function createVaporDots(count, container) {
            for (let i = 0; i < count; i++) {
                const dot = document.createElement('div');
                dot.className = 'vapor-dot';
                dot.style.left = `${Math.random() * 90 + 5}%`;
                dot.style.top = `${Math.random() * 90 + 5}%`;
                dot.style.animationDelay = `${Math.random() * -6}s`; // ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ ì‹œì  ë‹¤ë¥´ê²Œ
                container.appendChild(dot);
            }
        }
        
        // ì‹¤í—˜ì‹¤ í™”ë©´ í‘œì‹œ í•¨ìˆ˜
        function showLab(type) {
            mainWrapper.classList.add('hidden');
            labContainer.classList.remove('hidden');

            simArea.innerHTML = ''; // ê° ì‹¤í—˜ì‹¤ ì‹œì‘ ì‹œ ì‹œë®¬ë ˆì´ì…˜ ì˜ì—­ ì´ˆê¸°í™”
            controlsContent.innerHTML = ''; // ì¡°ì‘ íŒ¨ë„ ì´ˆê¸°í™”
            labExplanation.innerHTML = ''; // ì„¤ëª… ì˜ì—­ ì´ˆê¸°í™”

            switch (type) {
                case 'dew':
                    labTitle.innerHTML = 'ğŸŒ± ì´ìŠ¬ ì‹¤í—˜ì‹¤';
                    // ì‹œë®¬ë ˆì´ì…˜ UI (í’€ì ì¶”ê°€)
                    simArea.innerHTML = '<div id="sim-leaf" class="absolute bottom-0 left-1/2 -translate-x-1/2 w-2 h-32 bg-green-600 rounded-t-full transform rotate-12"></div>';
                    simArea.innerHTML += '<div id="sim-leaf2" class="absolute bottom-0 left-1/2 -translate-x-1/2 w-2 h-40 bg-green-600 rounded-t-full transform -rotate-6"></div>';
                    
                    createVaporDots(30, simArea); // ë°°ê²½ ìƒì„± í›„ ì…ì ì¶”ê°€
                    const dotsDew = simArea.querySelectorAll('.vapor-dot'); 

                    // ì¡°ì‘ UI (ì˜¨ë„ ìŠ¬ë¼ì´ë”)
                    controlsContent.innerHTML = `
                        <label for="temp-slider" class="block mb-2 text-xl md:text-2xl">í’€ì ì˜¨ë„ ì¡°ì ˆí•˜ê¸°</label>
                        <input id="temp-slider" type="range" min="0" max="25" value="25" class="w-full">
                        <p class="text-center mt-2 text-xl"><span id="temp-label">25</span>Â°C (ë”°ëœ»í•¨)</p>
                    `;
                    // ì„¤ëª…
                    labExplanation.innerHTML = `
                        <p class="text-xl">ë°¤ì´ ë˜ì–´ í’€ìì˜ ì˜¨ë„ê°€ ë‚´ë ¤ê°€ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?</p>
                        <p class="mt-2">ê³µê¸° ì¤‘ì˜ ìˆ˜ì¦ê¸°(íšŒìƒ‰ ì )ëŠ” ë”°ëœ»í•  ë• ììœ ë¡­ê²Œ ë‚ ì•„ë‹¤ë…€ìš”. í•˜ì§€ë§Œ ì˜¨ë„ê°€ <strong>'ì´ìŠ¬ì '</strong>(ìˆ˜ì¦ê¸°ê°€ ë¬¼ë°©ìš¸ë¡œ ë³€í•˜ëŠ” ì˜¨ë„) ì•„ë˜ë¡œ ë‚´ë ¤ê°€ë©´, ì°¨ê°€ìš´ í’€ìì— ë‹¿ì€ ìˆ˜ì¦ê¸°ë“¤ì´ ì—ë„ˆì§€ë¥¼ ìƒê³  ë¬¼ë°©ìš¸(íŒŒë€ ì )ë¡œ ë³€ì‹ (<strong>ì‘ê²°</strong>)í•œë‹µë‹ˆë‹¤!</p>
                    `;
                    
                    // ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸
                    const tempSlider = document.getElementById('temp-slider');
                    const tempLabel = document.getElementById('temp-label');
                    tempSlider.addEventListener('input', (e) => {
                        const temp = parseInt(e.target.value);
                        tempLabel.textContent = temp;
                        
                        // ì˜¨ë„ê°€ 10ë„ ë¯¸ë§Œì´ë©´ ì´ìŠ¬ ë§ºí˜
                        if (temp < 10) {
                            tempLabel.innerHTML = `${temp}Â°C (ì°¨ê°€ì›€)`;
                            dotsDew.forEach((dot, index) => { 
                                // ì¼ë¶€ ì…ìë§Œ í’€ì ê·¼ì²˜ë¡œ ì´ë™ì‹œí‚¤ê³  ë¬¼ë°©ìš¸ë¡œ ë³€ê²½
                                if (index % 3 === 0) {
                                    dot.classList.add('water-dot');
                                    dot.style.transform = `translate(${Math.random()*40-20}px, 10px)`;
                                    dot.style.top = '60%'; // í’€ì ìœ„ì¹˜ ê·¼ì²˜
                                    dot.style.left = '50%';
                                }
                            });
                        } else {
                            tempLabel.innerHTML = `${temp}Â°C (ë”°ëœ»í•¨)`;
                            dotsDew.forEach(dot => { 
                                dot.classList.remove('water-dot');
                                dot.style.top = `${Math.random() * 90 + 5}%`; // ì›ë˜ ìœ„ì¹˜ë¡œ
                                dot.style.left = `${Math.random() * 90 + 5}%`;
                            });
                        }
                    });
                    break;

                case 'fog':
                    labTitle.innerHTML = 'ğŸŒ«ï¸ ì•ˆê°œ ì‹¤í—˜ì‹¤';
                    // ì‹œë®¬ë ˆì´ì…˜ UI (ë•… ì¶”ê°€)
                    simArea.innerHTML = '<div class="absolute bottom-0 left-0 w-full h-1/4 bg-green-800/60"></div>';
                    
                    createVaporDots(30, simArea); // ë°°ê²½ ìƒì„± í›„ ì…ì ì¶”ê°€
                    const dotsFog = simArea.querySelectorAll('.vapor-dot'); 

                    // ì¡°ì‘ UI
                    controlsContent.innerHTML = `
                        <label for="temp-slider" class="block mb-2 text-xl md:text-2xl">ì§€í‘œë©´ ê³µê¸° ì˜¨ë„</label>
                        <input id="temp-slider" type="range" min="0" max="25" value="25" class="w-full">
                        <p class="text-center mt-2 text-xl"><span id="temp-label">25</span>Â°C (ë”°ëœ»í•¨)</p>
                    `;
                    // ì„¤ëª…
                    labExplanation.innerHTML = `
                        <p class="text-xl">ë•… ê·¼ì²˜ì˜ ê³µê¸°ê°€ ì°¨ê°€ì›Œì§€ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?</p>
                        <p class="mt-2">ì´ìŠ¬ê³¼ ì›ë¦¬ëŠ” ê°™ì•„ìš”! í•˜ì§€ë§Œ ì´ìŠ¬ì€ 'ë¬¼ì²´'ì— ë‹¿ì•„ì„œ ë§ºíˆëŠ” ê²ƒì´ê³ , ì•ˆê°œëŠ” <strong>ê³µê¸° ì „ì²´ê°€ ì°¨ê°€ì›Œì ¸ì„œ</strong> ìˆ˜ì¦ê¸°ë“¤ì´ ê³µê¸° ì¤‘ì—ì„œ ë°”ë¡œ ì•„ì£¼ ì‘ì€ ë¬¼ë°©ìš¸ë¡œ ë³€í•´ ë– ë‹¤ë‹ˆëŠ” ê±°ì˜ˆìš”. ì´ê²ƒë“¤ì´ ëª¨ì—¬ ë¿Œì˜‡ê²Œ ë³´ì´ëŠ” ê±°ì£ .</p>
                    `;
                    
                    // ì´ë²¤íŠ¸
                    const tempSliderFog = document.getElementById('temp-slider');
                    const tempLabelFog = document.getElementById('temp-label');
                    tempSliderFog.addEventListener('input', (e) => {
                        const temp = parseInt(e.target.value);
                        tempLabelFog.textContent = temp;
                        
                        if (temp < 10) {
                            tempLabelFog.innerHTML = `${temp}Â°C (ì°¨ê°€ì›€)`;
                            dotsFog.forEach(dot => { 
                                dot.classList.add('water-dot'); // ì‘ì€ ë¬¼ë°©ìš¸ë¡œ
                                dot.style.top = `${Math.random() * 50 + 40}%`; // ì•„ë˜ìª½ì— ëª¨ì„
                            });
                        } else {
                            tempLabelFog.innerHTML = `${temp}Â°C (ë”°ëœ»í•¨)`;
                            dotsFog.forEach(dot => { 
                                dot.classList.remove('water-dot');
                                dot.style.top = `${Math.random() * 90 + 5}%`;
                            });
                        }
                    });
                    break;

                case 'cloud':
                    labTitle.innerHTML = 'â˜ï¸ êµ¬ë¦„ ì‹¤í—˜ì‹¤';
                    // ì‹œë®¬ë ˆì´ì…˜ UI (ë•…ê³¼ í•˜ëŠ˜)
                    simArea.innerHTML = '<div class="absolute bottom-0 left-0 w-full h-1/4 bg-green-700"></div>';
                    simArea.innerHTML += '<p class="absolute bottom-1/4 left-1/2 -translate-x-1/2 text-white text-lg">â–² ìˆ˜ì¦ê¸° ìƒìŠ¹ â–²</p>';
                    simArea.innerHTML += '<div class="absolute top-0 left-0 w-full h-1/4 bg-sky-300/50 flex items-center justify-center"><p id="sky-temp-label" class="text-blue-800 font-bold text-lg">ìƒì¸µ ê³µê¸°: 15Â°C</p></div>';
                    
                    createVaporDots(30, simArea); // ë°°ê²½ ìƒì„± í›„ ì…ì ì¶”ê°€
                    
                    // ì¡°ì‘ UI
                    controlsContent.innerHTML = `
                        <label for="temp-slider" class="block mb-2 text-xl md:text-2xl">ìƒì¸µ ê³µê¸° ì˜¨ë„</label>
                        <input id="temp-slider" type="range" min="-10" max="15" value="15" class="w-full">
                        <p class="text-center mt-2 text-xl"><span id="temp-label">15</span>Â°C (ì‹œì›í•¨)</p>
                    `;
                    // ì„¤ëª…
                    labExplanation.innerHTML = `
                        <p class="text-xl">ìˆ˜ì¦ê¸°ê°€ í•˜ëŠ˜ ë†’ì´ ì˜¬ë¼ê°€ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?</p>
                        <p class="mt-2">ë•…ì—ì„œ ë”°ëœ»í•´ì§„ ê³µê¸°(ìˆ˜ì¦ê¸°)ëŠ” ìœ„ë¡œ ì˜¬ë¼ê°€ìš”(<strong>ìƒìŠ¹</strong>). í•˜ì§€ë§Œ í•˜ëŠ˜ ë†’ì´ ì˜¬ë¼ê°ˆìˆ˜ë¡ ê³µê¸°ëŠ” ì°¨ê°€ì›Œì ¸ìš”. ì˜¨ë„ê°€ 'ì´ìŠ¬ì 'ë³´ë‹¤ ë‚®ì•„ì§€ë©´, ìˆ˜ì¦ê¸°ë“¤ì´ <strong>ì‘ê²°</strong>í•´ì„œ ì‘ì€ ë¬¼ë°©ìš¸ì´ë‚˜ ì–¼ìŒ ì•Œê°±ì´ê°€ ë˜ì–´ ë­‰ì³ìš”. ì´ê²Œ ë°”ë¡œ êµ¬ë¦„ì´ì—ìš”!</p>
                    `;
                    
                    // ì´ë²¤íŠ¸
                    const tempSliderCloud = document.getElementById('temp-slider');
                    const tempLabelCloud = document.getElementById('temp-label');
                    const skyTempLabel = document.getElementById('sky-temp-label'); 
                    const cloudDots = simArea.querySelectorAll('.vapor-dot');

                    tempSliderCloud.addEventListener('input', (e) => {
                        const temp = parseInt(e.target.value);
                        tempLabelCloud.textContent = temp;
                        skyTempLabel.textContent = `ìƒì¸µ ê³µê¸°: ${temp}Â°C`; 

                        if (temp < 5) {
                            tempLabelCloud.innerHTML = `${temp}Â°C (ì°¨ê°€ì›€)`;
                            cloudDots.forEach(dot => {
                                dot.classList.add(temp < 0 ? 'ice-dot' : 'water-dot'); // 0ë„ ì´í•˜ë©´ ì–¼ìŒ
                                dot.classList.remove(temp < 0 ? 'water-dot' : 'ice-dot');
                                dot.style.top = `${Math.random() * 30 + 5}%`; // ìœ„ìª½ì— ëª¨ì„
                            });
                        } else {
                            tempLabelCloud.innerHTML = `${temp}Â°C (ì‹œì›í•¨)`;
                            cloudDots.forEach(dot => {
                                dot.classList.remove('water-dot', 'ice-dot');
                                dot.style.top = `${Math.random() * 90 + 5}%`;
                            });
                        }
                    });
                    break;
                
                case 'rain':
                    labTitle.innerHTML = 'ğŸŒ§ï¸ ë¹„ ì‹¤í—˜ì‹¤';
                    // ì‹œë®¬ë ˆì´ì…˜ UI (êµ¬ë¦„ ìƒì„±)
                    simArea.innerHTML = '<div id="cloud-bg" class="absolute top-10 left-1/2 -translate-x-1/2 w-3/4 h-2/5 bg-gray-300 rounded-full opacity-50"></div>';
                    
                    createVaporDots(50, simArea); // ë°°ê²½ ìƒì„± í›„ ì…ì ì¶”ê°€
                    const dotsRain = simArea.querySelectorAll('.vapor-dot'); 

                    dotsRain.forEach(dot => { 
                        dot.classList.add('water-dot'); // ë¬¼ë°©ìš¸ë¡œ ì‹œì‘
                        dot.style.top = `${Math.random() * 30 + 10}%`; // ìƒë‹¨ì— ëª¨ì„
                    });
                    
                    // ì¡°ì‘ UI
                    controlsContent.innerHTML = `
                        <button id="merge-button" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg text-lg hover:bg-blue-600 transition-all">ë¬¼ë°©ìš¸ í•©ì²´!</button>
                    `;
                    // ì„¤ëª…
                    labExplanation.innerHTML = `
                        <p class="text-xl">êµ¬ë¦„ ì† ë¬¼ë°©ìš¸ë“¤ì´ ë¬´ê±°ì›Œì§€ë©´?</p>
                        <p class="mt-2">êµ¬ë¦„ ì†ì˜ ì‘ì€ ë¬¼ë°©ìš¸(íŒŒë€ ì )ë“¤ì€ ì„œë¡œ ë¶€ë”ªíˆë©° í•©ì²´í•´ìš”. ì ì  í¬ê³  ë¬´ê±°ì›Œì ¸ì„œ ë” ì´ìƒ ë– ë°›ì³ì¤„ í˜ì´ ì—†ìœ¼ë©´, ì¤‘ë ¥ ë•Œë¬¸ì— ë•…ìœ¼ë¡œ ë–¨ì–´ì§€ê²Œ ë©ë‹ˆë‹¤. ì´ê²ƒì´ ë°”ë¡œ <strong>ë¹„</strong>ì…ë‹ˆë‹¤!</p>
                    `;
                    
                    // ì´ë²¤íŠ¸
                    document.getElementById('merge-button').addEventListener('click', () => {
                        // 5ê°œì˜ ë¹—ë°©ìš¸ ë–¨ì–´íŠ¸ë¦¬ê¸°
                        for (let i = 0; i < 5; i++) {
                            const rainDrop = document.createElement('div');
                            rainDrop.className = 'rain-drop-sim';
                            rainDrop.style.left = `${Math.random() * 80 + 10}%`;
                            simArea.appendChild(rainDrop);
                            // ì• ë‹ˆë©”ì´ì…˜ ëë‚˜ë©´ ì‚­ì œ
                            setTimeout(() => rainDrop.remove(), 1000);
                        }
                    });
                    break;

                case 'snow':
                    labTitle.innerHTML = 'ğŸŒ¨ï¸ ëˆˆ ì‹¤í—˜ì‹¤';
                    // ì‹œë®¬ë ˆì´ì…˜ UI (ì°¨ê°€ìš´ êµ¬ë¦„)
                    simArea.innerHTML = '<div id="cloud-bg" class="absolute top-10 left-1/2 -translate-x-1/2 w-3/4 h-2/5 bg-gray-200 rounded-full opacity-50"></div>';
                    simArea.innerHTML += '<p class="absolute top-5 left-1/2 -translate-x-1/2 text-blue-900 font-bold text-lg">ì˜í•˜ -10Â°Cì˜ ì°¨ê°€ìš´ êµ¬ë¦„</p>';
                    
                    createVaporDots(50, simArea); // ë°°ê²½ ìƒì„± í›„ ì…ì ì¶”ê°€
                    const dotsSnow = simArea.querySelectorAll('.vapor-dot'); 

                    dotsSnow.forEach(dot => { 
                        dot.classList.add('ice-dot'); // ì–¼ìŒ ì•Œê°±ì´ë¡œ ì‹œì‘
                        dot.style.top = `${Math.random() * 30 + 10}%`; // ìƒë‹¨ì— ëª¨ì„
                    });
                    
                    // ì¡°ì‘ UI
                    controlsContent.innerHTML = `
                        <button id="merge-button" class="w-full bg-sky-500 text-white font-bold py-3 rounded-lg text-lg hover:bg-sky-600 transition-all">ì–¼ìŒ ì•Œê°±ì´ í•©ì²´!</button>
                    `;
                    // ì„¤ëª…
                    labExplanation.innerHTML = `
                        <p class="text-xl">ì•„ì£¼ ì¶”ìš´ êµ¬ë¦„ ì†ì—ì„œëŠ” ë¬´ìŠ¨ ì¼ì´?</p>
                        <p class="mt-2">êµ¬ë¦„ì˜ ì˜¨ë„ê°€ 0Â°Cë³´ë‹¤ í›¨ì”¬ ë‚®ìœ¼ë©´, ìˆ˜ì¦ê¸°ê°€ ë¬¼ë°©ìš¸ì„ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ ì–¼ìŒ ì•Œê°±ì´(í•˜ì–€ ì )ë¡œ ë³€í•´ìš”(<strong>ìŠ¹í™”</strong>). ì´ ì–¼ìŒ ì•Œê°±ì´ë“¤ì´ ì„œë¡œ ë¶™ì–´ì„œ ë¬´ê±°ì›Œì§€ë©´ ë•…ìœ¼ë¡œ ë–¨ì–´ì§€ëŠ”ë°, ì´ê²Œ ë°”ë¡œ <strong>ëˆˆ</strong>ì…ë‹ˆë‹¤!</p>
                    `;

                    // ì´ë²¤íŠ¸
                    document.getElementById('merge-button').addEventListener('click', () => {
                        // 5ê°œì˜ ëˆˆì†¡ì´ ë–¨ì–´íŠ¸ë¦¬ê¸°
                        for (let i = 0; i < 5; i++) {
                            const snowFlake = document.createElement('div');
                            snowFlake.className = 'snow-flake-sim';
                            snowFlake.style.left = `${Math.random() * 80 + 10}%`;
                            simArea.appendChild(snowFlake);
                            // ì• ë‹ˆë©”ì´ì…˜ ëë‚˜ë©´ ì‚­ì œ
                            setTimeout(() => snowFlake.remove(), 2000);
                        }
                    });
                    break;
            }
        }

    </script>

</body>
</html>

