<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4학년 과학 - 밤하늘 관찰 퀴즈</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');

        body, button, p, div, span, li, h1 {
            font-family: 'Jua', sans-serif;
        }

        body {
            background-color: #000020; /* Deep night sky color */
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            user-select: none; /* Disable text selection */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        .container {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            padding: 30px 40px;
            width: 95%;
            max-width: 900px;
            text-align: center;
        }

        #startScreen, #quizScreen {
            display: none;
        }

        #startScreen.active, #quizScreen.active {
            display: block;
        }

        h1 {
            font-size: 3em;
            color: #ffeb3b; /* Bright yellow for title */
            text-shadow: 0 0 10px #ffeb3b;
        }
        
        .info-bar {
            display: flex;
            justify-content: space-between;
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #c5cae9;
        }

        .question-box {
            background-color: rgba(0, 0, 30, 0.5);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #9fa8da;
        }

        .question-text {
            font-size: 2.2em;
            font-weight: bold;
            line-height: 1.5;
            color: #e8eaf6;
        }

        .answer-options {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .answer-option {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #5c6bc0;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            font-size: 1.6em;
            position: relative;
        }

        .answer-option:hover {
            transform: translateY(-5px);
            background-color: rgba(92, 107, 192, 0.5);
        }
        
        .answer-option.selected {
            background-color: #3f51b5;
            border-color: #e8eaf6;
        }
        
        .answer-option.correct {
            background-color: #1b5e20;
            border-color: #a5d6a7;
        }

        .answer-option.incorrect {
            background-color: #b71c1c;
            border-color: #ef9a9a;
        }

        .rationale {
            font-size: 0.8em;
            color: #eee;
            margin-top: 10px;
            display: none; /* Initially hidden */
            text-align: left;
            line-height: 1.4;
        }
        
        .show-rationale .rationale {
            display: block; /* Show when parent has class */
        }

        .action-button {
            background-color: #fdd835;
            color: #333;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.8em;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 20px;
        }
        
        .action-button:hover {
            background-color: #fbc02d;
        }
        
        #nextQuestionButton {
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- Start Screen -->
    <div id="startScreen" class="active">
        <h1>4학년 과학<br>밤하늘 관찰 퀴즈 🌌🔭</h1>
        <p style="font-size: 1.5em; color: #e0e0e0; margin-top: 20px;">50개의 문제에 도전해보세요!<br>한 문제라도 틀리면 처음부터 다시 시작합니다.</p>
        <button id="startButton" class="action-button">도전 시작!</button>
    </div>

    <!-- Quiz Screen -->
    <div id="quizScreen">
        <div class="info-bar">
            <div id="attemptCounter">시도: 1회</div>
            <div id="timer">시간: 00:00</div>
        </div>

        <div class="question-box">
            <p id="progress" style="font-size: 1.2em; margin-bottom: 10px;"></p>
            <div class="question-text" id="question">문제를 불러오는 중...</div>
        </div>
        
        <ul class="answer-options" id="answerOptions"></ul>
        
        <div class="buttons">
            <button class="action-button" id="nextQuestionButton">다음 문제 ➡️</button>
        </div>
    </div>
</div>

<script>
let quizData = {
  "questions": [
    // 1단원: 달의 모양과 표면
    {"question": "밤하늘에 보이는 달의 전체적인 모양은 무엇과 가장 비슷한가요?", "options": [{"text": "둥근 공 모양", "correct": true, "rationale": "달은 어느 방향에서 보아도 둥근 공 모양입니다."}, {"text": "납작한 원반 모양", "correct": false, "rationale": "달은 평면이 아닌 입체적인 공 모양입니다."}, {"text": "계란 모양", "correct": false, "rationale": "달은 찌그러지지 않은 완전한 공 모양에 가깝습니다."}, {"text": "네모 모양", "correct": false, "rationale": "달은 자연적으로 만들어진 천체이므로 각진 모양이 아닙니다."}]},
    {"question": "달 표면에서 어둡게 보이는 부분을 무엇이라고 부르나요?", "options": [{"text": "충돌 구덩이", "correct": false, "rationale": "충돌 구덩이는 움푹 파인 곳을 말합니다."}, {"text": "달의 바다", "correct": true, "rationale": "옛날 사람들은 어두운 부분이 물이 찬 바다일 것이라 생각해서 '달의 바다'라고 불렀습니다."}, {"text": "달의 산맥", "correct": false, "rationale": "달의 산맥은 밝게 보이는 부분에 주로 있습니다."}, {"text": "달의 먼지", "correct": false, "rationale": "달 전체가 먼지로 덮여 있지만, 어두운 부분의 명칭은 아닙니다."}]},
    {"question": "달 표면에 움푹 파인 수많은 구덩이는 어떻게 해서 생긴 것일까요?", "options": [{"text": "화산이 폭발해서", "correct": false, "rationale": "달에는 화산 활동이 거의 없습니다."}, {"text": "물이 흘러서", "correct": false, "rationale": "달에는 액체 상태의 물이 흐르지 않습니다."}, {"text": "운석이 충돌해서", "correct": true, "rationale": "수많은 운석이 달 표면에 부딪혀 '충돌 구덩이'를 만들었습니다."}, {"text": "바람이 깎아서", "correct": false, "rationale": "달에는 공기가 없어 바람이 불지 않습니다."}]},
    {"question": "옛날 사람들이 달 표면의 어둡고 밝은 무늬를 보고 상상했던 동물은 무엇인가요?", "options": [{"text": "호랑이", "correct": false, "rationale": "호랑이 무늬는 달에서 찾기 어렵습니다."}, {"text": "용", "correct": false, "rationale": "용은 상상 속의 동물이지만 달 무늬와는 관련이 적습니다."}, {"text": "토끼", "correct": true, "rationale": "많은 문화권에서 달의 무늬를 보고 방아 찧는 토끼를 상상했습니다."}, {"text": "거북이", "correct": false, "rationale": "거북이 등껍질 모양은 달 무늬와 다릅니다."}]},
    {"question": "달 표면에 충돌 구덩이가 많은 이유는 무엇일까요?", "options": [{"text": "달이 매우 단단해서", "correct": false, "rationale": "달이 단단한 것과 구덩이가 많은 것은 직접적인 관련이 없습니다."}, {"text": "달에 공기가 없어서", "correct": true, "rationale": "공기층(대기)이 없어 운석이 타서 사라지지 않고 그대로 표면에 충돌하기 때문입니다."}, {"text": "달에 물이 많아서", "correct": false, "rationale": "달에는 액체 상태의 물이 거의 없습니다."}, {"text": "달의 중력이 강해서", "correct": false, "rationale": "달의 중력은 지구의 약 1/6로 약한 편입니다."}]},
    // 2단원: 달의 모양 변화
    {"question": "여러 날 동안 밤하늘에 보이는 달의 여러 가지 모양을 무엇이라고 하나요?", "options": [{"text": "달의 계절", "correct": false, "rationale": "달에는 계절 변화가 거의 없습니다."}, {"text": "달의 위상", "correct": true, "rationale": "달이 지구 주위를 돌면서 햇빛을 받는 부분이 달라져 보이는 모양을 '달의 위상'이라고 합니다."}, {"text": "달의 자전", "correct": false, "rationale": "달의 자전은 스스로 한 바퀴 도는 것을 의미합니다."}, {"text": "달의 그림자", "correct": false, "rationale": "지구 그림자에 달이 가려지는 것은 '월식'이라고 합니다."}]},
    {"question": "음력 15일 무렵에 볼 수 있는, 둥글고 환한 달의 이름은 무엇인가요?", "options": [{"text": "초승달", "correct": false, "rationale": "초승달은 음력 2~3일경에 보이는 눈썹 모양의 달입니다."}, {"text": "상현달", "correct": false, "rationale": "상현달은 오른쪽이 둥근 반달 모양입니다."}, {"text": "보름달", "correct": true, "rationale": "음력 15일에는 태양-지구-달이 일직선이 되어 완전히 둥근 보름달이 보입니다."}, {"text": "하현달", "correct": false, "rationale": "하현달은 왼쪽이 둥근 반달 모양입니다."}]},
    {"question": "오른쪽이 둥근 반달 모양으로, 음력 7~8일 무렵에 보이는 달은 무엇인가요?", "options": [{"text": "상현달", "correct": true, "rationale": "'현'은 활시위를 뜻하며, 활시위가 위쪽(서쪽 하늘)을 향한 모양이라 상현달이라 부릅니다."}, {"text": "하현달", "correct": false, "rationale": "하현달은 왼쪽이 둥근 반달입니다."}, {"text": "그믐달", "correct": false, "rationale": "그믐달은 새벽에 잠깐 보이는 눈썹 모양의 달입니다."}, {"text": "보름달", "correct": false, "rationale": "보름달은 완전히 둥근 모양입니다."}]},
    {"question": "달의 모양이 주기적으로 변하는 이유는 무엇인가요?", "options": [{"text": "달 자체가 커졌다 작아져서", "correct": false, "rationale": "달의 크기는 변하지 않습니다."}, {"text": "지구가 달 주위를 돌기 때문에", "correct": false, "rationale": "달이 지구 주위를 돕니다."}, {"text": "달이 지구 주위를 돌면서 햇빛을 받는 부분이 달라져서", "correct": true, "rationale": "달은 스스로 빛을 내지 못하고 햇빛을 반사하므로, 위치에 따라 빛을 반사하는 부분이 다르게 보입니다."}, {"text": "지구에 구름이 많아져서", "correct": false, "rationale": "구름은 달을 가릴 수는 있지만 모양을 바꾸지는 못합니다."}]},
    {"question": "달의 모양 변화가 다시 원래대로 돌아오는 데 걸리는 시간은 약 며칠인가요?", "options": [{"text": "약 7일", "correct": false, "rationale": "약 7일은 초승달에서 상현달까지 변하는 시간입니다."}, {"text": "약 15일", "correct": false, "rationale": "약 15일은 초승달에서 보름달까지 변하는 시간입니다."}, {"text": "약 30일", "correct": true, "rationale": "달의 모양 변화 주기는 약 29.5일로, 약 한 달(30일)입니다."}, {"text": "약 365일", "correct": false, "rationale": "약 365일은 지구가 태양을 한 바퀴 도는 시간입니다."}]},
    // 3단원: 태양계 구성원
    {"question": "태양과 태양의 영향을 받는 천체들, 그리고 그 공간을 무엇이라고 하나요?", "options": [{"text": "은하수", "correct": false, "rationale": "은하수는 우리 은하의 모습입니다."}, {"text": "별자리", "correct": false, "rationale": "별자리는 별들을 연결해 만든 모양입니다."}, {"text": "태양계", "correct": true, "rationale": "태양계는 태양을 중심으로 행성, 위성 등이 모여있는 시스템입니다."}, {"text": "우주", "correct": false, "rationale": "우주는 태양계를 포함하는 훨씬 더 넓은 공간입니다."}]},
    {"question": "다음 중 태양계의 '행성'이 아닌 것은 무엇인가요?", "options": [{"text": "화성", "correct": false, "rationale": "화성은 태양계의 4번째 행성입니다."}, {"text": "목성", "correct": false, "rationale": "목성은 태양계에서 가장 큰 행성입니다."}, {"text": "달", "correct": true, "rationale": "달은 행성인 지구 주위를 도는 '위성'입니다."}, {"text": "해왕성", "correct": false, "rationale": "해왕성은 태양계의 8번째 행성입니다."}]},
    {"question": "지구의 '위성'은 무엇인가요?", "options": [{"text": "태양", "correct": false, "rationale": "태양은 별이며, 지구가 태양 주위를 돕니다."}, {"text": "달", "correct": true, "rationale": "달은 지구 주위를 도는 유일한 자연 위성입니다."}, {"text": "금성", "correct": false, "rationale": "금성은 지구처럼 태양 주위를 도는 행성입니다."}, {"text": "화성", "correct": false, "rationale": "화성도 태양 주위를 도는 행성입니다."}]},
    {"question": "우주에 있는 별, 행성, 위성 등을 모두 합쳐서 부르는 말은 무엇인가요?", "options": [{"text": "운석", "correct": false, "rationale": "운석은 우주 공간을 떠돌다 지구로 떨어진 돌멩이입니다."}, {"text": "혜성", "correct": false, "rationale": "혜성은 긴 꼬리를 가진 천체입니다."}, {"text": "천체", "correct": true, "rationale": "천체는 우주에 존재하는 모든 물체를 통틀어 이르는 말입니다."}, {"text": "성운", "correct": false, "rationale": "성운은 별 사이의 가스와 먼지 구름입니다."}]},
    {"question": "태양계 행성을 태양에서 가까운 순서대로 나열했을 때, 지구는 몇 번째에 있나요?", "options": [{"text": "첫 번째", "correct": false, "rationale": "첫 번째 행성은 수성입니다."}, {"text": "두 번째", "correct": false, "rationale": "두 번째 행성은 금성입니다."}, {"text": "세 번째", "correct": true, "rationale": "수성-금성-지구 순서이므로 지구는 3번째 행성입니다."}, {"text": "네 번째", "correct": false, "rationale": "네 번째 행성은 화성입니다."}]},
    // 4단원: 태양과 행성의 특징
    {"question": "태양계에서 스스로 빛을 내는 유일한 천체는 무엇인가요?", "options": [{"text": "지구", "correct": false, "rationale": "지구는 태양빛을 반사합니다."}, {"text": "달", "correct": false, "rationale": "달도 태양빛을 반사합니다."}, {"text": "목성", "correct": false, "rationale": "목성도 행성이므로 스스로 빛을 내지 못합니다."}, {"text": "태양", "correct": true, "rationale": "태양은 스스로 빛과 열을 내는 별(항성)입니다."}]},
    {"question": "표면이 암석으로 이루어진 행성이 아닌 것은 무엇인가요?", "options": [{"text": "수성", "correct": false, "rationale": "수성은 표면이 암석으로 된 '지구형 행성'입니다."}, {"text": "지구", "correct": false, "rationale": "지구도 표면이 암석으로 되어 있습니다."}, {"text": "화성", "correct": false, "rationale": "화성도 표면이 암석으로 되어 있습니다."}, {"text": "토성", "correct": true, "rationale": "토성은 주로 기체로 이루어진 '목성형 행성'입니다."}]},
    {"question": "크고 선명한 고리를 가지고 있는 행성은 무엇인가요?", "options": [{"text": "목성", "correct": false, "rationale": "목성은 희미한 고리가 있습니다."}, {"text": "토성", "correct": true, "rationale": "토성은 얼음과 암석 조각으로 이루어진 아름답고 커다란 고리가 특징입니다."}, {"text": "천왕성", "correct": false, "rationale": "천왕성도 희미한 고리가 있습니다."}, {"text": "해왕성", "correct": false, "rationale": "해왕성도 희미한 고리가 있습니다."}]},
    {"question": "다음 중 표면이 기체로 이루어진 행성은 무엇인가요?", "options": [{"text": "금성", "correct": false, "rationale": "금성은 표면이 단단한 암석으로 되어 있습니다."}, {"text": "지구", "correct": false, "rationale": "지구도 표면이 단단한 암석과 물로 되어 있습니다."}, {"text": "목성", "correct": true, "rationale": "목성, 토성, 천왕성, 해왕성은 주로 기체로 이루어져 있습니다."}, {"text": "화성", "correct": false, "rationale": "화성도 표면이 단단한 암석으로 되어 있습니다."}]},
    {"question": "태양계 행성 중 크기가 가장 큰 행성은 무엇인가요?", "options": [{"text": "지구", "correct": false, "rationale": "목성은 지구보다 약 11배 더 큽니다."}, {"text": "토성", "correct": false, "rationale": "목성은 토성보다도 더 큽니다."}, {"text": "목성", "correct": true, "rationale": "목성은 나머지 7개 행성을 모두 합친 것보다도 질량이 큽니다."}, {"text": "태양", "correct": false, "rationale": "태양은 행성이 아니라 별입니다."}]},
    // 5단원: 태양계 행성 모형 만들기
    {"question": "태양계 행성 모형을 만들 때, 실제 행성들의 어떤 특징을 고려하여 표현할 수 있을까요?", "options": [{"text": "행성의 온도", "correct": false, "rationale": "온도는 모형으로 표현하기 어려운 특징입니다."}, {"text": "행성의 무게", "correct": false, "rationale": "무게보다는 크기를 표현하는 것이 일반적입니다."}, {"text": "행성의 크고 작은 정도와 거리 순서", "correct": true, "rationale": "모형을 만들 때 행성들의 상대적인 크기나 태양으로부터의 거리 순서를 표현하면 더 좋습니다."}, {"text": "행성이 도는 속도", "correct": false, "rationale": "행성의 공전/자전 속도는 정적인 모형으로 표현하기 어렵습니다."}]},
    {"question": "지구 모형을 만들 때, 실제 지구의 특징을 살리기 위해 표현해야 할 것은 무엇인가요?", "options": [{"text": "붉은색 표면과 거대한 화산", "correct": false, "rationale": "이는 화성의 특징입니다."}, {"text": "크고 선명한 고리", "correct": false, "rationale": "이는 토성의 특징입니다."}, {"text": "푸른색 바다와 초록색 육지", "correct": true, "rationale": "지구는 '푸른 행성'으로 불리며, 바다와 육지로 구분되는 것이 큰 특징입니다."}, {"text": "표면의 수많은 충돌 구덩이", "correct": false, "rationale": "이는 달이나 수성의 특징입니다."}]},
    {"question": "행성 모형 만들기와 같은 활동이 왜 중요할까요?", "options": [{"text": "실제 행성과 똑같이 만들기 위해", "correct": false, "rationale": "모형은 실제와 똑같이 만들 수 없으며, 특징을 단순화하여 표현합니다."}, {"text": "행성의 특징을 더 잘 이해하기 위해", "correct": true, "rationale": "모형을 직접 만들면서 각 행성의 크기, 색, 특징 등을 비교하고 기억하기 쉽습니다."}, {"text": "우주로 날려 보내기 위해", "correct": false, "rationale": "학습용 모형은 실제 우주 탐사에 사용되지 않습니다."}, {"text": "행성의 정확한 거리를 측정하기 위해", "correct": false, "rationale": "모형으로는 정확한 거리를 측정할 수 없습니다."}]},
    {"question": "토성 모형을 만들 때 빠뜨리지 말아야 할 가장 중요한 특징은 무엇인가요?", "options": [{"text": "붉은 점(대적점)", "correct": false, "rationale": "대적점은 목성의 특징입니다."}, {"text": "고리", "correct": true, "rationale": "크고 아름다운 고리는 토성의 가장 큰 상징이자 특징입니다."}, {"text": "청록색 표면", "correct": false, "rationale": "청록색은 천왕성의 특징입니다."}, {"text": "많은 위성들", "correct": false, "rationale": "많은 위성을 가진 것은 맞지만, 모형에서 고리만큼 중요하게 표현되지는 않습니다."}]},
    {"question": "태양계 행성 모형을 태양에서 가까운 순서대로 배열할 때, 가장 안쪽에 있어야 할 행성은 무엇인가요?", "options": [{"text": "지구", "correct": false, "rationale": "지구는 3번째 행성입니다."}, {"text": "화성", "correct": false, "rationale": "화성은 4번째 행성입니다."}, {"text": "수성", "correct": true, "rationale": "수성은 태양과 가장 가까운 행성입니다."}, {"text": "금성", "correct": false, "rationale": "금성은 2번째 행성입니다."}]},
    // 추가 문제 (1~5단원 복합)
    {"question": "다음 중 스스로 빛을 내는 '별'은 무엇인가요?", "options": [{"text": "금성", "correct": false, "rationale": "금성은 태양 빛을 반사하는 행성입니다."}, {"text": "달", "correct": false, "rationale": "달은 지구의 위성으로, 태양 빛을 반사합니다."}, {"text": "북극성", "correct": true, "rationale": "북극성은 태양처럼 스스로 빛과 열을 내는 별(항성)입니다."}, {"text": "화성", "correct": false, "rationale": "화성은 태양 빛을 반사하는 행성입니다."}]},
    {"question": "태양계 행성들을 크기가 큰 것부터 순서대로 나열할 때 가장 먼저 오는 행성은 무엇인가요?", "options": [{"text": "지구", "correct": false, "rationale": "지구는 5번째로 큰 행성입니다."}, {"text": "목성", "correct": true, "rationale": "목성은 태양계에서 압도적으로 가장 큰 행성입니다."}, {"text": "토성", "correct": false, "rationale": "토성은 두 번째로 큰 행성입니다."}, {"text": "해왕성", "correct": false, "rationale": "해왕성은 네 번째로 큰 행성입니다."}]},
    {"question": "왼쪽이 둥근 반달 모양으로, 음력 22~23일 무렵 주로 새벽 하늘에서 보이는 달은 무엇인가요?", "options": [{"text": "상현달", "correct": false, "rationale": "상현달은 오른쪽이 둥근 반달 모양입니다."}, {"text": "보름달", "correct": false, "rationale": "보름달은 완전히 둥근 모양입니다."}, {"text": "초승달", "correct": false, "rationale": "초승달은 저녁 하늘에 보이는 오른쪽 눈썹 모양의 달입니다."}, {"text": "하현달", "correct": true, "rationale": "하현달은 활시위가 아래(동쪽 하늘)를 향한 모양이며 왼쪽이 둥근 반달입니다."}]},
    {"question": "다음 중 표면이 암석이 아닌 기체로 이루어져 있고, 고리가 있는 행성들의 공통점은 무엇인가요? (목성, 토성, 천왕성, 해왕성)", "options": [{"text": "태양과 가깝다", "correct": false, "rationale": "이 행성들은 모두 태양계의 바깥쪽에 위치합니다."}, {"text": "크기가 작다", "correct": false, "rationale": "이 행성들은 모두 지구보다 훨씬 큽니다."}, {"text": "모두 고리가 있고 기체로 되어있다", "correct": true, "rationale": "목성, 토성, 천왕성, 해왕성은 모두 고리가 있고(선명하거나 희미하거나) 기체로 이루어져 있습니다."}, {"text": "표면에 바다가 있다", "correct": false, "rationale": "표면이 기체로 되어 있어 액체 상태의 바다는 없습니다."}]},
    {"question": "달이 매일 밤 모양이 바뀌어 보이는 근본적인 이유는 달이 무엇을 하기 때문인가요?", "options": [{"text": "스스로 빛을 내기 때문에", "correct": false, "rationale": "달은 스스로 빛을 내지 못합니다."}, {"text": "지구 주위를 공전하기 때문에", "correct": true, "rationale": "달이 지구 주위를 돌면서 태양, 지구, 달의 위치가 계속 바뀌기 때문에 우리 눈에 보이는 햇빛 반사 부분이 달라집니다."}, {"text": "스스로 회전(자전)하기 때문에", "correct": false, "rationale": "달의 자전은 모양 변화의 직접적인 원인이 아닙니다."}, {"text": "태양 주위를 공전하기 때문에", "correct": false, "rationale": "달은 지구와 함께 태양 주위를 돌지만, 모양 변화는 지구 주위를 도는 것 때문에 생깁니다."}]},
    {"question": "붉은색을 띠고 있어 '붉은 행성'이라고 불리는 행성은 무엇인가요?", "options": [{"text": "금성", "correct": false, "rationale": "금성은 밝은 노란색을 띱니다."}, {"text": "화성", "correct": true, "rationale": "화성은 표면의 산화철(녹슨 쇠) 성분 때문에 붉게 보입니다."}, {"text": "목성", "correct": false, "rationale": "목성은 갈색 줄무늬와 붉은 점이 특징입니다."}, {"text": "수성", "correct": false, "rationale": "수성은 어두운 회색을 띱니다."}]},
    {"question": "다음 중 '위성'에 대한 설명으로 옳은 것은 무엇인가요?", "options": [{"text": "스스로 빛을 내는 천체이다.", "correct": false, "rationale": "스스로 빛을 내는 천체는 '별'입니다."}, {"text": "행성 주위를 도는 천체이다.", "correct": true, "rationale": "위성은 행성의 중력에 이끌려 그 주위를 도는 천체를 말합니다. (예: 달)"}, {"text": "태양계의 중심이다.", "correct": false, "rationale": "태양계의 중심은 태양입니다."}, {"text": "기체로만 이루어져 있다.", "correct": false, "rationale": "달과 같이 암석으로 이루어진 위성이 많습니다."}]},
    {"question": "청록색을 띠며 자전축이 거의 누워있어 옆으로 구르듯이 공전하는 행성은 무엇인가요?", "options": [{"text": "해왕성", "correct": false, "rationale": "해왕성은 파란색을 띠며 자전축이 많이 눕지는 않았습니다."}, {"text": "토성", "correct": false, "rationale": "토성은 노란색을 띠며 고리가 특징입니다."}, {"text": "천왕성", "correct": true, "rationale": "천왕성은 메테인 성분 때문에 청록색으로 보이며, 자전축이 98도나 기울어져 있습니다."}, {"text": "지구", "correct": false, "rationale": "지구는 푸른색이며 자전축이 약 23.5도 기울어져 있습니다."}]},
    {"question": "달 표면을 자세히 보면 밝은 곳과 어두운 곳이 있습니다. 이 중 밝게 보이는 곳의 지형적 특징은 무엇일까요?", "options": [{"text": "평평하고 낮다", "correct": false, "rationale": "이것은 어두운 '달의 바다'의 특징입니다."}, {"text": "물이 가득 차 있다", "correct": false, "rationale": "달에는 액체 상태의 물이 없습니다."}, {"text": "높고 험준한 산이 많다", "correct": true, "rationale": "밝게 보이는 곳은 '고지대'라고 불리며, 산이 많고 충돌 구덩이가 빽빽합니다."}, {"text": "얼음으로 덮여 있다", "correct": false, "rationale": "달의 극히 일부 지역에만 얼음이 존재할 가능성이 있습니다."}]},
    {"question": "태양계에서 가장 작은 행성은 무엇인가요?", "options": [{"text": "화성", "correct": false, "rationale": "화성은 수성보다 큽니다."}, {"text": "수성", "correct": true, "rationale": "수성은 태양계 8개 행성 중 크기가 가장 작습니다."}, {"text": "지구", "correct": false, "rationale": "지구는 수성보다 훨씬 큽니다."}, {"text": "금성", "correct": false, "rationale": "금성은 지구와 크기가 비슷합니다."}]},
    {"question": "우리가 살고 있는 지구의 가장 큰 특징은 무엇인가요?", "options": [{"text": "가장 뜨거운 행성이다.", "correct": false, "rationale": "가장 뜨거운 행성은 금성입니다."}, {"text": "가장 큰 고리가 있다.", "correct": false, "rationale": "가장 큰 고리는 토성이 가지고 있습니다."}, {"text": "생명체가 사는 유일한 행성이다.", "correct": true, "rationale": "현재까지 알려진 바로는, 액체 상태의 물과 적절한 대기가 있어 생명체가 사는 곳은 지구가 유일합니다."}, {"text": "가장 빠르게 공전한다.", "correct": false, "rationale": "가장 빠르게 공전하는 행성은 수성입니다."}]},
    {"question": "다음 중 '행성'의 정의로 가장 알맞은 것은 무엇인가요?", "options": [{"text": "스스로 빛을 내며 타오르는 천체", "correct": false, "rationale": "이것은 '별(항성)'에 대한 설명입니다."}, {"text": "별의 주위를 도는, 스스로 빛을 내지 못하는 천체", "correct": true, "rationale": "행성은 별(태양)의 중력에 이끌려 그 주위를 돌며, 별빛을 반사하여 빛납니다."}, {"text": "행성의 주위를 도는 천체", "correct": false, "rationale": "이것은 '위성'에 대한 설명입니다."}, {"text": "긴 꼬리를 가지며 나타나는 천체", "correct": false, "rationale": "이것은 '혜성'에 대한 설명입니다."}]},
    {"question": "파란색을 띠며 태양계에서 가장 바깥쪽에 위치한 행성은 무엇인가요?", "options": [{"text": "천왕성", "correct": false, "rationale": "천왕성은 7번째 행성이며 청록색을 띱니다."}, {"text": "지구", "correct": false, "rationale": "지구는 3번째 행성입니다."}, {"text": "해왕성", "correct": true, "rationale": "해왕성은 짙은 파란색을 띠며 태양계의 8번째, 즉 가장 바깥쪽 행성입니다."}, {"text": "목성", "correct": false, "rationale": "목성은 5번째 행성입니다."}]},
    {"question": "달의 위상 변화 순서로 옳은 것은 무엇인가요?", "options": [{"text": "보름달 → 상현달 → 초승달", "correct": false, "rationale": "시간이 거꾸로 흘렀네요."}, {"text": "초승달 → 상현달 → 보름달", "correct": true, "rationale": "달은 점점 차올라 오른쪽 눈썹(초승달)에서 오른쪽 반달(상현달), 그리고 둥근달(보름달) 순서로 변합니다."}, {"text": "하현달 → 보름달 → 상현달", "correct": false, "rationale": "순서가 맞지 않습니다."}, {"text": "상현달 → 초승달 → 그믐달", "correct": false, "rationale": "상현달 다음에는 보름달이 됩니다."}]},
    {"question": "태양계 행성을 모형으로 만들 때, 크기만 고려한다면 어떤 행성을 가장 크게 만들어야 할까요?", "options": [{"text": "토성", "correct": false, "rationale": "토성은 두 번째로 큽니다."}, {"text": "목성", "correct": true, "rationale": "목성은 태양계에서 가장 큰 행성이므로 모형도 가장 크게 만들어야 합니다."}, {"text": "지구", "correct": false, "rationale": "지구는 목성보다 훨씬 작습니다."}, {"text": "해왕성", "correct": false, "rationale": "해왕성은 네 번째로 큽니다."}]},
    {"question": "달 표면에 있는 '달의 바다'에는 실제로 물이 있을까요?", "options": [{"text": "네, 깊은 바닷물이 있습니다.", "correct": false, "rationale": "달에는 액체 상태의 물이 없습니다."}, {"text": "아니요, 물 대신 용암이 굳은 평평한 지형입니다.", "correct": true, "rationale": "'달의 바다'는 과거 화산 활동으로 흘러나온 용암이 굳어져 주변보다 어둡고 평평하게 보이는 지형입니다."}, {"text": "네, 얕은 강물이 흐릅니다.", "correct": false, "rationale": "달에는 강이 없습니다."}, {"text": "아니요, 거대한 얼음으로 덮여 있습니다.", "correct": false, "rationale": "얼음은 극지방의 그늘진 곳에만 일부 존재할 것으로 추정됩니다."}]},
    {"question": "태양계의 모든 행성들은 무엇을 중심으로 돌고 있을까요?", "options": [{"text": "지구", "correct": false, "rationale": "과거에는 그렇게 생각했지만, 실제로는 지구가 중심이 아닙니다."}, {"text": "목성", "correct": false, "rationale": "목성은 가장 크지만, 태양계의 중심은 아닙니다."}, {"text": "태양", "correct": true, "rationale": "태양은 태양계 전체 질량의 대부분을 차지하며, 강력한 중력으로 모든 행성을 돌게 합니다."}, {"text": "우리 은하의 중심", "correct": false, "rationale": "태양계 전체가 우리 은하의 중심을 돌고 있지만, 행성들은 태양을 중심으로 돕니다."}]},
    {"question": "태양계 행성 중 고리가 없는 행성은 무엇인가요?", "options": [{"text": "목성", "correct": false, "rationale": "목성은 희미한 고리가 있습니다."}, {"text": "토성", "correct": false, "rationale": "토성은 크고 선명한 고리가 있습니다."}, {"text": "천왕성", "correct": false, "rationale": "천왕성도 희미한 고리가 있습니다."}, {"text": "화성", "correct": true, "rationale": "수성, 금성, 지구, 화성은 고리가 없는 암석 행성입니다."}]},
    {"question": "밤하늘에 반짝이는 천체는 모두 스스로 빛을 내는 별일까요?", "options": [{"text": "네, 모두 스스로 빛을 냅니다.", "correct": false, "rationale": "스스로 빛을 내는 별도 있지만, 그렇지 않은 천체도 있습니다."}, {"text": "아니요, 행성처럼 별빛을 반사하는 천체도 있습니다.", "correct": true, "rationale": "금성이나 목성 같은 행성들은 태양 빛을 반사하여 마치 별처럼 밝게 보입니다."}, {"text": "네, 모두 혜성입니다.", "correct": false, "rationale": "혜성은 밤하늘의 일부일 뿐입니다."}, {"text": "아니요, 모두 인공위성입니다.", "correct": false, "rationale": "인공위성도 보이지만, 대부분은 별과 행성입니다."}]},
    {"question": "달이 지구와 항상 같은 면만 보여주는 이유는 무엇인가요?", "options": [{"text": "달은 회전하지 않기 때문에", "correct": false, "rationale": "달도 스스로 회전(자전)합니다."}, {"text": "달의 자전 주기와 공전 주기가 같기 때문에", "correct": true, "rationale": "달이 스스로 한 바퀴 도는 시간과 지구를 한 바퀴 도는 시간이 약 27.3일로 같아서, 우리는 항상 달의 같은 쪽만 보게 됩니다."}, {"text": "지구가 회전하지 않기 때문에", "correct": false, "rationale": "지구는 약 24시간을 주기로 자전합니다."}, {"text": "태양 빛이 한쪽에만 비추기 때문에", "correct": false, "rationale": "달도 회전하므로 태양 빛은 달의 모든 면을 비춥니다."}]},
    {"question": "다음 중 '지구형 행성'들의 공통적인 특징이 아닌 것은 무엇인가요?", "options": [{"text": "표면이 단단한 암석으로 이루어져 있다.", "correct": false, "rationale": "수성, 금성, 지구, 화성은 모두 암석으로 되어있습니다."}, {"text": "크기가 작고 밀도가 높다.", "correct": false, "rationale": "기체 행성에 비해 크기가 작고 밀도가 높습니다."}, {"text": "모두 크고 선명한 고리를 가지고 있다.", "correct": true, "rationale": "지구형 행성들은 고리가 없습니다. 고리는 목성형 행성들의 특징입니다."}, {"text": "태양계의 안쪽에 위치한다.", "correct": false, "rationale": "네 행성 모두 태양계 안쪽에 있습니다."}]},
    {"question": "태양계 행성 중 가장 뜨거운 행성은 어디일까요?", "options": [{"text": "수성", "correct": false, "rationale": "수성은 태양과 가장 가깝지만, 대기가 없어 열을 보존하지 못해 밤에는 매우 추워집니다."}, {"text": "금성", "correct": true, "rationale": "금성은 두꺼운 이산화탄소 대기가 강력한 온실효과를 일으켜 표면 온도가 납도 녹일 만큼 뜨겁습니다."}, {"text": "화성", "correct": false, "rationale": "화성은 평균 온도가 영하 60도로 매우 춥습니다."}, {"text": "목성", "correct": false, "rationale": "목성은 기체 행성이며 태양에서 멀어 매우 춥습니다."}]},
    {"question": "목성 표면에 보이는 거대한 붉은 점 '대적점'의 정체는 무엇일까요?", "options": [{"text": "거대한 화산", "correct": false, "rationale": "목성은 기체 행성이라 화산이 없습니다."}, {"text": "붉은 색의 바다", "correct": false, "rationale": "목성에는 액체 바다가 없습니다."}, {"text": "지구보다 큰 거대한 소용돌이(폭풍)", "correct": true, "rationale": "대적점은 수백 년 동안 지속되고 있는, 지구보다도 훨씬 큰 거대한 대기 소용돌이입니다."}, {"text": "외계인이 만든 기지", "correct": false, "rationale": "대적점은 자연 현상입니다."}]},
    {"question": "'샛별' 또는 '개밥바라기별'이라는 별명을 가진 행성은 무엇인가요?", "options": [{"text": "화성", "correct": false, "rationale": "화성은 붉은색이 특징입니다."}, {"text": "금성", "correct": true, "rationale": "금성은 해가 진 직후나 해가 뜨기 직전에 매우 밝게 보이기 때문에 이런 별명을 갖게 되었습니다."}, {"text": "목성", "correct": false, "rationale": "목성도 밝지만 '샛별'이라고 불리지는 않습니다."}, {"text": "북극성", "correct": false, "rationale": "북극성은 행성이 아닌 별입니다."}]},
    {"question": "태양계 행성 중 지구보다 태양에 더 가까이 있는 행성을 모두 고른 것은 무엇인가요?", "options": [{"text": "수성, 금성", "correct": true, "rationale": "태양계는 수성, 금성, 지구, 화성 순서이므로 지구보다 안쪽에는 수성과 금성이 있습니다."}, {"text": "금성, 화성", "correct": false, "rationale": "화성은 지구보다 바깥쪽에 있습니다."}, {"text": "수성, 화성", "correct": false, "rationale": "화성은 지구보다 바깥쪽에 있습니다."}, {"text": "화성, 목성", "correct": false, "rationale": "화성과 목성 모두 지구보다 바깥쪽에 있습니다."}]}
  ]
};

const startScreen = document.getElementById('startScreen');
const quizScreen = document.getElementById('quizScreen');
const startButton = document.getElementById('startButton');
const questionEl = document.getElementById('question');
const answerOptionsEl = document.getElementById('answerOptions');
const nextQuestionButton = document.getElementById('nextQuestionButton');
const progressEl = document.getElementById('progress');
const attemptCounterEl = document.getElementById('attemptCounter');
const timerEl = document.getElementById('timer');

let currentQuestionIndex = 0;
let selectedOption = null;
let shuffledQuestions = [];
let attemptCount = 0;
let timerInterval;
let seconds = 0;

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function startTimer() {
    // Timer only starts once at the beginning of the quiz
    if (timerInterval) clearInterval(timerInterval); // Clear any existing timer
    seconds = 0;
    timerEl.textContent = `시간: 00:00`;
    timerInterval = setInterval(() => {
        seconds++;
        const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
        const secs = (seconds % 60).toString().padStart(2, '0');
        timerEl.textContent = `시간: ${mins}:${secs}`;
    }, 1000);
}

function stopTimer() {
    clearInterval(timerInterval);
}

function startQuiz() {
    attemptCount++;
    attemptCounterEl.textContent = `시도: ${attemptCount}회`;
    currentQuestionIndex = 0;
    shuffledQuestions = [...quizData.questions];
    shuffleArray(shuffledQuestions);
    
    startScreen.classList.remove('active');
    quizScreen.classList.add('active');
    
    startTimer();
    loadQuestion();
}

function resetQuiz() {
    stopTimer();
    quizScreen.classList.remove('active');
    startScreen.classList.add('active');
}

function loadQuestion() {
    if (currentQuestionIndex >= shuffledQuestions.length) {
        showQuizEnd();
        return;
    }

    selectedOption = null;
    const currentQuestion = shuffledQuestions[currentQuestionIndex];
    progressEl.textContent = `문제 ${currentQuestionIndex + 1} / ${shuffledQuestions.length}`;
    questionEl.textContent = currentQuestion.question;
    answerOptionsEl.innerHTML = '';
    nextQuestionButton.style.display = 'none';

    currentQuestion.options.forEach(option => {
        const li = document.createElement('li');
        li.className = 'answer-option';
        li.innerHTML = `<span>${option.text}</span>`;
        
        li.addEventListener('click', () => {
            if (selectedOption !== null) return; // Can only select once

            selectedOption = li;
            answerOptionsEl.querySelectorAll('.answer-option').forEach(opt => opt.classList.remove('selected'));
            li.classList.add('selected');
            
            checkAnswer(li, option);
        });
        answerOptionsEl.appendChild(li);
    });
}

function checkAnswer(selectedLi, selectedData) {
    const options = Array.from(answerOptionsEl.children);

    // Disable all options after an answer is chosen
    options.forEach(opt => opt.style.pointerEvents = 'none');

    options.forEach((optionNode, index) => {
        const optionData = shuffledQuestions[currentQuestionIndex].options[index];
        const rationaleEl = document.createElement('div');
        rationaleEl.className = 'rationale';
        rationaleEl.textContent = `해설: ${optionData.rationale}`;
        optionNode.appendChild(rationaleEl);

        if (optionData.correct) {
            optionNode.classList.add('correct');
        }
    });

    if (selectedData.correct) {
        selectedLi.classList.add('correct', 'show-rationale');
        options.forEach(opt => opt.classList.add('show-rationale'));
        nextQuestionButton.style.display = 'inline-block';
    } else {
        selectedLi.classList.add('incorrect', 'show-rationale');
        stopTimer();
        setTimeout(() => {
            alert('오답입니다! 처음부터 다시 시작합니다.');
            resetQuiz();
        }, 3000); // Reset after 3 seconds
    }
}

function showQuizEnd() {
    stopTimer();
    questionEl.textContent = `🎉 축하합니다! 모든 문제를 맞혔습니다! 🎉`;
    answerOptionsEl.innerHTML = `<p style="font-size:1.5em; grid-column: span 2;">총 소요 시간: ${timerEl.textContent.replace('시간: ','')}<br>총 시도 횟수: ${attemptCount}회</p>`;
    nextQuestionButton.style.display = 'none';
    progressEl.textContent = "퀴즈 완료!";
}

startButton.addEventListener('click', startQuiz);
nextQuestionButton.addEventListener('click', () => {
    currentQuestionIndex++;
    loadQuestion();
});

</script>

</body>
</html>

